<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RPC</title>
  </head>
  <body>
    <p>
      <button
        onclick="
    

    //   const computerChoice = pickComputerMove();
    //   let result = '';
    //   if (computerChoice === 'rock'){
    //     console.log('tie.')
    //     result = 'tie.'
    //   }else if (computerChoice === 'paper'){
    //     console.log('you win.')
    //     result = 'you win.'
    //   }else if (computerChoice === 'scissor'){
    //     console.log('you loss.')
    //     result = 'you lose.'
    //   }
    playerMove('rock')

      
      "
      >
        Rock
      </button>
      <button
        onclick="

    //  const computerChoice = pickComputerMove();
    //   let result = '';
    //   if (computerChoice === 'rock'){
    //     console.log('you win.')
    //     result = 'you win.'
    //   }else if (computerChoice === 'paper'){
    //     console.log('tie.')
    //     result = 'tie.'
    //   }else if (computerChoice === 'scissor'){
    //     console.log('you loss.')
    //     result = 'you lose.'
    //   }

    playerMove('paper')
      
      "
      >
        Paper
      </button>
      <button
        onclick="


      



    //   const computerChoice = pickComputerMove();
    //   let result = '';
    //   if (computerChoice === 'rock'){
    //     console.log('you lose.')
    //     result = 'you win.'
    //   }else if (computerChoice === 'paper'){
    //     console.log('you win.')
    //     result = 'you win.'
    //   }else if (computerChoice === 'scissor'){
    //     console.log('tie.')
    //     result = 'tie.'
    //   }
    playerMove('scissor')
      "
      >
        Scissor
      </button>

      <button
        onclick="
      score.win = 0,
      score.lose = 0,
      score.tie = 0


      localStorage.removeItem('score')
      "
      >
        Reset Score
      </button>
    </p>
    <script>
      let score = JSON.parse(localStorage.getItem("score")) || {
        win: 0,
        lose: 0,
        tie: 0,
      };

      function playerMove(playerInput) {
        const computerChoice = pickComputerMove();
        let result = " ";
        if (playerInput === "rock") {
          if (playerInput === "rock" && computerChoice === "rock") {
            result = "tie.";
          } else if (playerInput === "rock" && computerChoice === "paper") {
            result = "you win.";
          } else if (playerInput === "rock" && computerChoice === "scissor") {
            result = "you lose.";
          }
        } else if (playerInput === "paper") {
          if (playerInput === "paper" && computerChoice === "rock") {
            result = "you win.";
          } else if (playerInput === "paper" && computerChoice === "paper") {
            result = "tie.";
          } else if (playerInput === "paper" && computerChoice === "scissor") {
            result = "you lose.";
          }
        } else if (playerInput === "scissor") {
          if (playerInput === "scissor" && computerChoice === "rock") {
            result = "you lose.";
          } else if (playerInput === "scissor" && computerChoice === "paper") {
            result = "you win.";
          } else if (
            playerInput === "scissor" &&
            computerChoice === "scissor"
          ) {
            result = "tie.";
          }
        }

        if (result === "you win.") {
          score.win += 1;
        } else if (result === "you lose.") {
          score.lose += 1;
        } else if (result === "tie.") {
          score.tie += 1;
        }

        localStorage.setItem("score", JSON.stringify(score));

        alert(`computer choose : ${computerChoice}, player choose : ${playerInput}.
      result : ${result}
      win: ${score.win}, loss: ${score.lose}, ties: ${score.tie}`);
      }

      function pickComputerMove() {
        const randomNumber = Math.random();
        console.log(randomNumber);
        let computerChoice = "";

        if (randomNumber >= 0 && randomNumber < 1 / 3) {
          //console.log("Computer choose rock");
          computerChoice = "rock";
          console.log(computerChoice);
        } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
          //console.log("Computer choose paper");
          computerChoice = "paper";
          console.log(computerChoice);
        } else if (randomNumber >= 2 / 3 && randomNumber <= 1) {
          //console.log("Computer choose scissor");
          computerChoice = "scissor";
          console.log(computerChoice);
        }
        return computerChoice;
      }
    </script>
  </body>
</html>
